<!-- Navbar -->
<nav class="navbar" [class.navbar-hidden]="!isNavbarVisible">
  <div class="navbar-container">
    <!-- Logo - Always visible -->
    <a href="#" class="logo">
      <i class="fas fa-gamepad"></i>
      <span>{{ texts.storeName }}</span>
    </a>

    <!-- Desktop Navigation Items -->
    <div class="nav-items desktop-nav">
      <!-- Category Dropdown -->
      <div class="category-dropdown">
        <button class="category-btn" (click)="toggleCategoryDropdown($event)">
          <span>{{ texts.categories }}</span>
          <i class="fas fa-chevron-down"></i>
        </button>
        <div class="dropdown-menu" [class.show]="showCategoryDropdown">
          <a href="#" class="dropdown-item">{{ texts.giftCards }}</a>
          <a href="#" class="dropdown-item">{{ texts.games }}</a>
          <a href="#" class="dropdown-item">{{ texts.software }}</a>
          <a href="#" class="dropdown-item">{{ texts.payment }}</a>
        </div>
      </div>

      <!-- Search Bar -->
      <div class="search-container">
        <input type="text" class="search-input" [placeholder]="texts.searchPlaceholder">
        <i class="fas fa-search search-icon"></i>
      </div>
    </div>

    <!-- Desktop Right Side Items -->
    <div class="nav-right desktop-nav">
      <!-- Region/Language Button -->
      <button class="region-btn" (click)="openModal()">
        <i class="fas fa-globe"></i>
        <span>{{ texts.lang }}</span>
      </button>

      <!-- Login Button -->
      <a [routerLink]="['/auth/login']" class="login-btn">
        <i class="fas fa-user"></i>
        <span>{{ texts.login }}</span>
      </a>
    </div>

    <!-- Mobile Toggle Button - Top Right -->
    <button class="mobile-toggle" (click)="toggleMobileMenu()" [class.active]="showMobileMenu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.show]="showMobileMenu">
    <div class="mobile-menu-content">
      <!-- Mobile Search -->
      <div class="mobile-search-container">
        <input type="text" class="mobile-search-input" [placeholder]="texts.searchPlaceholder">
        <i class="fas fa-search mobile-search-icon"></i>
      </div>

      <!-- Mobile Categories -->
      <div class="mobile-category-section">
        <button class="mobile-category-btn" (click)="toggleMobileCategoryDropdown()">
          <span>{{ texts.categories }}</span>
          <i class="fas fa-chevron-down" [class.rotated]="showMobileCategoryDropdown"></i>
        </button>
        <div class="mobile-category-menu" [class.show]="showMobileCategoryDropdown">
          <a href="#" class="mobile-category-item">{{ texts.giftCards }}</a>
          <a href="#" class="mobile-category-item">{{ texts.games }}</a>
          <a href="#" class="mobile-category-item">{{ texts.software }}</a>
          <a href="#" class="mobile-category-item">{{ texts.payment }}</a>
        </div>
      </div>

      <!-- Mobile Action Buttons -->
      <div class="mobile-actions">
        <button class="mobile-region-btn" (click)="openModal()">
          <i class="fas fa-globe"></i>
          <span>{{ texts.lang }}</span>
        </button>
        <a [routerLink]="['/auth/login']" class="mobile-login-btn" (click)="closeMobileMenu()">
          <i class="fas fa-user"></i>
          <span>{{ texts.login }}</span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Regional Settings Modal -->
<div class="modal-overlay" [class.show]="showModal" (click)="closeModalOnOverlay($event)">
  <div class="modal">
    <div class="modal-header">
      <h2 class="modal-title">{{ texts.modalTitle }}</h2>
      <button class="close-btn" (click)="closeModal()">&times;</button>
    </div>

    <div class="form-group">
      <label class="form-label">{{ texts.region }}</label>
      <select class="form-select" [(ngModel)]="selectedRegion">
        <option value="global">{{ currentLanguage === 'ar' ? 'عالمي' : 'Global' }}</option>
      </select>
    </div>

    <div class="form-group">
      <label class="form-label">{{ texts.language }}</label>
      <select class="form-select" [(ngModel)]="selectedLanguage">
        <option value="ar">{{ currentLanguage === 'ar' ? 'العربية' : 'Arabic' }}</option>
        <option value="en">{{ currentLanguage === 'ar' ? 'الإنجليزية' : 'English' }}</option>
      </select>
    </div>

    <div class="form-group">
      <label class="form-label">{{ texts.currency }}</label>
      <select class="form-select" [(ngModel)]="selectedCurrency">
        <option value="egp">{{ currentLanguage === 'ar' ? 'جنيه مصري (EGP)' : 'Egyptian Pound (EGP)' }}</option>
        <option value="usd">{{ currentLanguage === 'ar' ? 'دولار أمريكي (USD)' : 'US Dollar (USD)' }}</option>
        <option value="sar">{{ currentLanguage === 'ar' ? 'ريال سعودي (SAR)' : 'Saudi Riyal (SAR)' }}</option>
        <option value="qar">{{ currentLanguage === 'ar' ? 'ريال قطري (QAR)' : 'Qatari Riyal (QAR)' }}</option>
        <option value="aed">{{ currentLanguage === 'ar' ? 'درهم إماراتي (AED)' : 'UAE Dirham (AED)' }}</option>
      </select>
    </div>

    <button class="save-btn" (click)="saveSettings()">{{ texts.save }}</button>
  </div>
</div>