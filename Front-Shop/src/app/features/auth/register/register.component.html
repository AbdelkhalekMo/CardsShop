<div class="container-fluid" dir="rtl">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 d-flex align-items-center justify-content-center min-vh-100">
            <div class="register-container">
                <div class="register-card">
                    <!-- Logo Section -->
                    <div class="logo-section">
                        <div class="logo-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h2 class="welcome-title">Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§ Ø§Ù„Ø¢Ù†</h2>
                        <p class="welcome-subtitle">Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø£ÙØ¶Ù„ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</p>
                    </div>

                    <!-- Register Form -->
                    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                        <!-- Name Fields -->
                        <div class="form-row">
                            <div class="form-group">
                                <div class="input-wrapper">
                                    <input type="text" 
                                           class="form-control" 
                                           formControlName="firstName"
                                           placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„"
                                           [class.is-invalid]="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
                                    <i class="fas fa-user input-icon"></i>
                                </div>
                                @if (registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched) {
                                    <small class="text-danger">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨ (Ø­Ø±ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)</small>
                                }
                            </div>

                            <div class="form-group">
                                <div class="input-wrapper">
                                    <input type="text" 
                                           class="form-control" 
                                           formControlName="lastName"
                                           placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©"
                                           [class.is-invalid]="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
                                    <i class="fas fa-user input-icon"></i>
                                </div>
                                @if (registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched) {
                                    <small class="text-danger">Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ù…Ø·Ù„ÙˆØ¨ (Ø­Ø±ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)</small>
                                }
                            </div>
                        </div>

                        <!-- Email Field -->
                        <div class="form-group">
                            <div class="input-wrapper">
                                <input type="email" 
                                       class="form-control" 
                                       formControlName="email"
                                       placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
                                       [class.is-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                                <i class="fas fa-envelope input-icon"></i>
                            </div>
                            @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
                                <small class="text-danger">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­</small>
                            }
                        </div>

                        <!-- Password Fields -->
                        <div class="form-row">
                            <div class="form-group">
                                <div class="input-wrapper">
                                    <input [type]="showPassword ? 'text' : 'password'"
                                           class="form-control"
                                           formControlName="password"
                                           placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                                           [class.is-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                                    <i class="fas fa-lock input-icon"></i>
                                    <i class="fas password-toggle"
                                       [class.fa-eye]="!showPassword"
                                       [class.fa-eye-slash]="showPassword"
                                       [class.active]="showPassword"
                                       (click)="togglePasswordVisibility('password')"
                                       [title]="showPassword ? 'Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±' : 'Ø¥Ø¸Ù‡Ø§Ø± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'">
                                    </i>
                                </div>
                                @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
                                    <small class="text-danger">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</small>
                                }
                            </div>

                            <div class="form-group">
                                <div class="input-wrapper">
                                    <input [type]="showConfirmPassword ? 'text' : 'password'"
                                           class="form-control"
                                           formControlName="confirmPassword"
                                           placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                                           [class.is-invalid]="(registerForm.get('confirmPassword')?.invalid || registerForm.hasError('mismatch')) && registerForm.get('confirmPassword')?.touched">
                                    <i class="fas fa-lock input-icon"></i>
                                    <i class="fas password-toggle"
                                       [class.fa-eye]="!showConfirmPassword"
                                       [class.fa-eye-slash]="showConfirmPassword"
                                       [class.active]="showConfirmPassword"
                                       (click)="togglePasswordVisibility('confirmPassword')"
                                       [title]="showConfirmPassword ? 'Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±' : 'Ø¥Ø¸Ù‡Ø§Ø± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'">
                                    </i>
                                </div>
                                @if ((registerForm.get('confirmPassword')?.invalid || registerForm.hasError('mismatch')) && registerForm.get('confirmPassword')?.touched) {
                                    <small class="text-danger">ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©</small>
                                }
                            </div>
                        </div>

                        <!-- Country Selection -->
                        <div class="form-group">
                            <div class="input-wrapper">
                                <select class="form-control" 
                                        formControlName="country"
                                        [class.is-invalid]="registerForm.get('country')?.invalid && registerForm.get('country')?.touched">
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
                                    <option value="EG">ğŸ‡ªğŸ‡¬ Ù…ØµØ±</option>
                                    <option value="SA">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                                    <option value="AE">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                                    <option value="KW">ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª</option>
                                    <option value="QA">ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø±</option>
                                </select>
                                <i class="fas fa-globe input-icon"></i>
                            </div>
                            @if (registerForm.get('country')?.invalid && registerForm.get('country')?.touched) {
                                <small class="text-danger">ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆÙ„Ø©</small>
                            }
                        </div>

                        <!-- Terms and Conditions -->
                        <div class="form-group">
                            <div class="form-check custom-checkbox">
                                <input class="form-check-input" 
                                       type="checkbox" 
                                       formControlName="terms" 
                                       id="termsCheck"
                                       [class.is-invalid]="registerForm.get('terms')?.invalid && registerForm.get('terms')?.touched">
                                <label class="form-check-label" for="termsCheck">
                                    Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" class="terms-link">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a>
                                </label>
                            </div>
                            @if (registerForm.get('terms')?.invalid && registerForm.get('terms')?.touched) {
                                <small class="text-danger">ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù… Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</small>
                            }
                        </div>

                        <button type="submit" 
                                class="btn btn-register"
                                [disabled]="registerForm.invalid">
                            Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
                        </button>
                    </form>

                    <!-- Login Link -->
                    <div class="login-link">
                        Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a [routerLink]="['/auth/login']">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
