<!-- Main Container with RTL Support -->
<div class="container-fluid" dir="rtl">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 d-flex align-items-center justify-content-center min-vh-100">
            <div class="login-container">
                <div class="login-card">
                    <!-- Logo Section -->
                    <div class="logo-section">
                        <div class="logo-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h2 class="welcome-title">أهلاً وسهلاً بك</h2>
                        <p class="welcome-subtitle">سجل دخولك للوصول إلى UpCodea  </p>
                    </div>

                    <!-- Login Form -->
                    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                        <div class="form-group">
                            <div class="input-wrapper">
                                <input type="text" 
                                       class="form-control" 
                                       formControlName="emailOrUsername" 
                                       placeholder="الاسم أو البريد الإلكتروني"
                                       [class.is-invalid]="loginForm.get('emailOrUsername')?.invalid && loginForm.get('emailOrUsername')?.touched">
                                <i class="fas fa-user input-icon"></i>
                            </div>
                            @if (loginForm.get('emailOrUsername')?.invalid && loginForm.get('emailOrUsername')?.touched) {
                                <small class="text-danger">هذا الحقل مطلوب</small>
                            }
                        </div>

                        <div class="form-group">
                            <div class="input-wrapper">
                                <input [type]="showPassword ? 'text' : 'password'"
                                       class="form-control"
                                       formControlName="password"
                                       placeholder="كلمة المرور"
                                       [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                                <i class="fas fa-lock input-icon"></i>
                                <i class="fas password-toggle"
                                   [class.fa-eye]="!showPassword"
                                   [class.fa-eye-slash]="showPassword"
                                   [class.active]="showPassword"
                                   (click)="togglePasswordVisibility()"
                                   [title]="showPassword ? 'إخفاء كلمة المرور' : 'إظهار كلمة المرور'">
                                </i>
                            </div>
                            @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
                                <small class="text-danger">كلمة المرور يجب أن تكون 6 أحرف على الأقل</small>
                            }
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" 
                                   type="checkbox" 
                                   formControlName="rememberMe" 
                                   id="rememberMe">
                            <label class="form-check-label" for="rememberMe">
                                تذكرني في المرة القادمة
                            </label>
                        </div>

                        <button type="submit" 
                                class="btn btn-login"
                                [disabled]="loginForm.invalid">
                            تسجيل الدخول
                        </button>
                    </form>

                    <!-- Forgot Password -->
                    <div class="forgot-password">
                        <a [routerLink]="['/auth/forgot-password']">نسيت كلمة المرور؟</a>
                    </div>

                    <!-- Signup Link -->
                    <div class="signup-link">
                        ليس لديك حساب؟ <a [routerLink]="['/auth/register']">إنشاء حساب جديد</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>