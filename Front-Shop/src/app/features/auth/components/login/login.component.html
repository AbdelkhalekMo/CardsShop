<!-- Main Container with RTL Support -->
<div class="container-fluid" [attr.dir]="isRTL ? 'rtl' : 'ltr'">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 d-flex align-items-center justify-content-center min-vh-100">
            <div class="login-container">
                <div class="login-card">
                    <!-- Logo Section -->
                    <div class="logo-section">
                        <div class="logo-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h2 class="welcome-title">{{ texts.welcome }}</h2>
                        <p class="welcome-subtitle">{{ texts.subtitle }}</p>
                    </div>

                    <!-- Login Form -->
                    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                        <div class="form-group">
                            <div class="input-wrapper">
                                <input type="text" 
                                       class="form-control" 
                                       formControlName="emailOrUsername" 
                                       [placeholder]="texts.emailPlaceholder"
                                       [class.is-invalid]="loginForm.get('emailOrUsername')?.invalid && loginForm.get('emailOrUsername')?.touched">
                                <i class="fas fa-user input-icon"></i>
                            </div>
                            @if (loginForm.get('emailOrUsername')?.invalid && loginForm.get('emailOrUsername')?.touched) {
                                <small class="text-danger">{{ texts.requiredField }}</small>
                            }
                        </div>

                        <div class="form-group">
                            <div class="input-wrapper">
                                <input [type]="showPassword ? 'text' : 'password'"
                                       class="form-control"
                                       formControlName="password"
                                       [placeholder]="texts.passwordPlaceholder"
                                       [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                                <i class="fas fa-lock input-icon"></i>
                                <i class="fas password-toggle"
                                   [class.fa-eye]="!showPassword"
                                   [class.fa-eye-slash]="showPassword"
                                   [class.active]="showPassword"
                                   (click)="togglePasswordVisibility()"
                                   [title]="showPassword ? texts.hidePassword : texts.showPassword">
                                </i>
                            </div>
                            @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
                                <small class="text-danger">{{ texts.passwordLength }}</small>
                            }
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" 
                                   type="checkbox" 
                                   formControlName="rememberMe" 
                                   id="rememberMe">
                            <label class="form-check-label" for="rememberMe">
                                {{ texts.rememberMe }}
                            </label>
                        </div>

                        <button type="submit" 
                                class="btn btn-login"
                                [disabled]="loginForm.invalid">
                            {{ texts.loginButton }}
                        </button>
                    </form>

                    <!-- Forgot Password -->
                    <div class="forgot-password">
                        <a [routerLink]="['/auth/forgot-password']">{{ texts.forgotPassword }}</a>
                    </div>

                    <!-- Signup Link -->
                    <div class="signup-link">
                        {{ texts.noAccount }} <a [routerLink]="['/auth/register']">{{ texts.createAccount }}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>